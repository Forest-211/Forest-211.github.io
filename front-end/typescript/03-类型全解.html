<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类型全解 | Forest</title>
    <meta name="description" content="笔记记录、阅读">
    <link rel="stylesheet" href="/assets/style.abb680c9.css">
    <link rel="modulepreload" href="/assets/Home.27ba9be6.js">
    <link rel="modulepreload" href="/assets/app.ee89e8a3.js">
    <link rel="modulepreload" href="/assets/front-end_typescript_03-类型全解.md.e1d4185d.lean.js">
    <link rel="modulepreload" href="/assets/app.ee89e8a3.js">
    <meta name="twitter:title" content="类型全解 | Forest">
    <meta property="og:title" content="类型全解 | Forest">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-7161a24b><div class="sidebar-button" data-v-7161a24b><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Forest, back to home" data-v-7161a24b data-v-4a583abe><!----> Forest</a><div class="flex-grow" data-v-7161a24b></div><div class="nav" data-v-7161a24b><nav class="nav-links" data-v-7161a24b data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/" data-v-641633f9>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>前端</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/js/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>javascript</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/vue/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>vue</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item active" href="/front-end/typescript/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Ts</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/node/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>node</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/nest/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>nest</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react-native/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react-native</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/go/" data-v-641633f9>Go <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>工具</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/git/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Git</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/docker/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Docker</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/other/" data-v-641633f9>其他 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item isExternal" href="https://github.com/Forest-211" target="_blank" rel="noopener noreferrer" data-v-641633f9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-641633f9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-6b49cdcd><nav class="nav-links nav" data-v-6b49cdcd data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/" data-v-641633f9>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>前端</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/js/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>javascript</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/vue/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>vue</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item active" href="/front-end/typescript/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Ts</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/node/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>node</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/nest/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>nest</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react-native/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react-native</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/go/" data-v-641633f9>Go <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>工具</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/git/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Git</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/docker/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Docker</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/other/" data-v-641633f9>其他 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item isExternal" href="https://github.com/Forest-211" target="_blank" rel="noopener noreferrer" data-v-641633f9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-641633f9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-6b49cdcd><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/front-end/typescript/">TypeScript</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/front-end/typescript/01-环境准备">环境准备</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/front-end/typescript/02-为什么要学习TypeScript">为什么要学习TS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/front-end/typescript/03-类型全解">类型全解</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#字符串">字符串</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#数字">数字</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#布尔值">布尔值</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#symbol">symbol</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#any">any</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#unknown">unknown</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#void、undefined、null">void、undefined、null</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#never">never</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="类型全解"><a class="header-anchor" href="#类型全解" aria-hidden="true">#</a> 类型全解</h1><p>在语法层面，缺省类型注解的 TypeScript 与 JavaScript 完全一致。因此，我们可以把 TypeScript 代码的编写看作是为 JavaScript 代码添加类型注解 在 JavaScript 中，原始类型指的是非对象且没有方法的数据类型，它包括 string、number、bigint、boolean、undefined 和 symbol 这六种 (null 是一个伪原始类型，它在 JavaScript 中实际上是一个对象，且所有的结构化类型都是通过 null 原型链派生而来)。原始类型值是最底层的实现，对应到 TypeScript 中同样也是最底层的类型</p><h2 id="字符串"><a class="header-anchor" href="#字符串" aria-hidden="true">#</a> 字符串</h2><p>在 JavaScript 中，我们可以使用string表示 JavaScript 中任意的字符串(包括模板字符串)，具体示例如下所示：</p><div class="language-js"><pre><code><span class="token keyword">let</span> firstname<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&#39;Forest&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 字符串字面量</span>
<span class="token keyword">let</span> familyname<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显式类型转换</span>
<span class="token keyword">let</span> fullname<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>familyname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 模板字符串</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>所有 JavaScript 支持的定义字符串的方法，我们都可以直接在 TypeScript 中使用</p></div><h2 id="数字"><a class="header-anchor" href="#数字" aria-hidden="true">#</a> 数字</h2><p>同样，我们可以使用number类型表示 JavaScript 已经支持或者即将支持的十进制整数、浮点数，以及二进制数、八进制数、十六进制数，具体的示例如下所示：</p><div class="language-js"><pre><code><span class="token comment">/** 十进制整数 */</span>
<span class="token keyword">let</span> integer<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

<span class="token comment">/** 十进制整数 */</span>
<span class="token keyword">let</span> integer2<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 十进制浮点数 */</span>
<span class="token keyword">let</span> decimal<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token comment">/** 二进制整数 */</span>
<span class="token keyword">let</span> binary<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0b1010</span><span class="token punctuation">;</span>

<span class="token comment">/** 八进制整数 */</span>
<span class="token keyword">let</span> octal<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0o744</span><span class="token punctuation">;</span>

<span class="token comment">/** 十六进制整数 */</span>
<span class="token keyword">let</span> hex<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">0xf00d</span><span class="token punctuation">;</span>
</code></pre></div><p>如果使用较少的大整数，那么我们可以使用bigint类型来表示</p><div class="language-js"><pre><code><span class="token keyword">let</span> big<span class="token operator">:</span> bigint <span class="token operator">=</span>  <span class="token number">100n</span><span class="token punctuation">;</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>虽然number和bigint都表示数字，但是这两个类型不兼容。</p></div><h2 id="布尔值"><a class="header-anchor" href="#布尔值" aria-hidden="true">#</a> 布尔值</h2><p>使用boolean表示 true 或者 false，该值可以比较(==、===、||、&amp;&amp;)、可以否定(!)</p><div class="language-js"><pre><code><span class="token comment">/** TypeScript 真香 为 真 */</span>
<span class="token keyword">let</span> typeScriptIsGreat<span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

 <span class="token comment">/** TypeScript 太糟糕了 为 否 */</span>
<span class="token keyword">let</span> typeScriptIsBad<span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="symbol"><a class="header-anchor" href="#symbol" aria-hidden="true">#</a> symbol</h2><p>自 ECMAScript 6 起，TypeScript 开始支持新的Symbol原始类型， 即我们可以通过Symbol构造函数，创建一个独一无二的标记；同时，还可以使用symbol表示如下代码所示的类型</p><div class="language-js"><pre><code><span class="token keyword">let</span> sym1<span class="token operator">:</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sym2<span class="token operator">:</span> symbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;42&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TypeScript 还包含 Number、String、Boolean、Symbol 等类型(注意区分大小写)；当为大写时表示类型字面量</p></div><h2 id="any"><a class="header-anchor" href="#any" aria-hidden="true">#</a> any</h2><p>any指的是一个任意类型，是类型中的教父。为了目的它不惜一切代价，但是不要轻易请它纯棉，除非不得已；在TypeScript中，编译时一定都要有类型，如果你无法确定类型是什么，默认为any；这是个兜底类型，应该尽可能的避免使用；any类型的值就像常规的JavaScript一样，我们可以对被注解为 any 类型的变量进行任何操作，包括获取事实上并不存在的属性、方法，并且 TypeScript 还无法检测其属性是否存在、类型是否正确。类型检查器完全发挥不了作用</p><div class="language-js"><pre><code><span class="token keyword">let</span> anything<span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
anything<span class="token punctuation">.</span><span class="token function">doAnything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
anything <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
anything <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>

<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> anything<span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> string <span class="token operator">=</span> anything<span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
</code></pre></div><p>any 类型会在对象的调用链中进行传导，即所有 any 类型的任意属性的类型都是 any</p><div class="language-js"><pre><code><span class="token keyword">let</span> anything<span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> anything<span class="token punctuation">.</span>x<span class="token punctuation">.</span>y<span class="token punctuation">.</span>z<span class="token punctuation">;</span> <span class="token comment">// z 类型是 any，不会提示错误</span>
<span class="token function">z</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
</code></pre></div><h2 id="unknown"><a class="header-anchor" href="#unknown" aria-hidden="true">#</a> unknown</h2><p>unknown类型，它主要用来描述类型并不确定的变量；unknown类型的值可以比较、可以否定、可以使用JavaScript的typeof和instanceof运算符细化</p><p>比如在多个 if else 条件分支场景下，它可以用来接收不同条件下类型各异的返回值的临时变量，如下代码所示：</p><div class="language-js"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> unknown<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">...</span>
</code></pre></div><p>与 any 不同的是，unknown 在类型上更安全。比如我们<em><strong>可以将任意类型的值赋值给 unknown，但 unknown 类型的值只能赋值给 unknown 或 any</strong></em>，如下代码所示：</p><div class="language-js"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> unknown<span class="token punctuation">;</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> result<span class="token punctuation">;</span> <span class="token comment">// 提示 ts(2322)</span>
<span class="token keyword">let</span> anything<span class="token operator">:</span> any <span class="token operator">=</span> result<span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
</code></pre></div><p>使用 unknown 后，TypeScript 会对它做类型检测。但是，如果不缩小类型（Type Narrowing），我们对 unknown 执行的任何操作都会出现如下所示错误：</p><div class="language-js"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> unknown<span class="token punctuation">;</span>
result<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 提示 ts(2571)</span>
</code></pre></div><p>而所有的类型缩小手段对 unknown 都有效，如下代码所示：</p><div class="language-js"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> unknown<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 此处 hover result 提示类型是 number，不会提示错误</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="void、undefined、null"><a class="header-anchor" href="#void、undefined、null" aria-hidden="true">#</a> void、undefined、null</h2><p>void 类型，它仅适用于表示没有返回值的函数。即如果该函数没有返回值，那它的类型就是 void。在 strict 模式下，声明一个 void 类型的变量几乎没有任何实际用处，因为我们不能把 void 类型的变量值再赋值给除了 any 和 unkown 之外的任何类型变量。</p><p>undefined 类型 和 null 类型，它们是 TypeScript 值与类型关键字同名的唯二例外</p><div class="language-js"><pre><code><span class="token keyword">let</span> undeclared<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nullable<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
</code></pre></div><p>undefined 的最大价值主要体现在接口类型上，它表示一个可缺省、未定义的属性。</p><p>我们可以把 undefined 值或类型是 undefined 的变量赋值给 void 类型变量，反过来，类型是 void 但值是 undefined 的变量不能赋值给 undefined 类型。</p><div class="language-js"><pre><code><span class="token keyword">const</span> userInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> undeclared<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> unusable<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
unusable <span class="token operator">=</span> undeclared<span class="token punctuation">;</span> <span class="token comment">// ok</span>
undeclared <span class="token operator">=</span> unusable<span class="token punctuation">;</span> <span class="token comment">// ts(2322)</span>
</code></pre></div><p>除此之外，undefined 和 null 类型还具备警示意义，它们可以提醒我们针对可能操作这两种（类型）值的情况做容错处理。也就是在操作之前判断值的类型是否支持当前的操作，类型守卫既能通过类型缩小影响 TypeScript 的类型检测，也能保障 JavaScript 运行时的安全性，如下代码所示：</p><div class="language-js"><pre><code><span class="token keyword">const</span> user<span class="token operator">:</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> string
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Captain&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>id <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  userInfo<span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// id 的类型缩小成 number</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们可以使用非空断言来排除值可能为 null 或 undefined 的情况，但是这样很不安全。</p><div class="language-js"><pre><code>userInfo<span class="token punctuation">.</span>id<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
userInfo<span class="token punctuation">.</span>name<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>而比非空断言更安全、类型守卫更方便的做法是使用单问号（Optional Chain）、双问号（空值合并），我们可以使用它们来保障代码的安全性，如下代码所示：</p><div class="language-js"><pre><code>userInfo<span class="token punctuation">.</span>id<span class="token operator">?.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Optional Chain</span>
<span class="token keyword">const</span> myName <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>name<span class="token operator">??</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 空值合并</span>
</code></pre></div><h2 id="never"><a class="header-anchor" href="#never" aria-hidden="true">#</a> never</h2><p>never 表示永远不会发生值的类型</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">ThrowError</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> never <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>以上函数因为永远不会有返回值，所以它的返回值类型就是 never。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>never 是所有类型的子类型，它可以给所有类型赋值；但是反过来，除了 never 自身以外，其他类型（包括 any 在内的类型）都不能为 never 类型赋值。</p></div><div class="language-js"><pre><code><span class="token keyword">let</span> Unreachable<span class="token operator">:</span> never <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 			<span class="token comment">// 报错</span>
Unreachable <span class="token operator">=</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">;</span> 					<span class="token comment">// 报错</span>
Unreachable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> 							<span class="token comment">// 报错</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> number <span class="token operator">=</span> Unreachable<span class="token punctuation">;</span> 		<span class="token comment">// ok</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> string <span class="token operator">=</span> Unreachable<span class="token punctuation">;</span> 		<span class="token comment">// ok</span>
<span class="token keyword">let</span> bool<span class="token operator">:</span> boolean <span class="token operator">=</span> Unreachable<span class="token punctuation">;</span> 	<span class="token comment">// ok</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/front-end/typescript/02-为什么要学习TypeScript" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>为什么要学习TS</span></a></div><div class="next" data-v-38ede35f><!----></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"5c8ccc06\",\"go_00-起步.md\":\"aa4d52ef\",\"go_01-基础.md\":\"daa32493\",\"go_02-数组与切片.md\":\"c7fc1a03\",\"go_03-流程控制与循环.md\":\"5d89b5b6\",\"go_04-map.md\":\"a99143f5\",\"go_05-函数.md\":\"0343c4bf\",\"go_06-结构体与方法.md\":\"f650bd4d\",\"go_07-接口.md\":\"fd633067\",\"go_08-协程与通道.md\":\"cffb3314\",\"go_09-并发资源.md\":\"9eec7f0c\",\"go_10-测试.md\":\"99a6b43d\",\"go_11-反射.md\":\"22ae6b0f\",\"go_12-web开发基础.md\":\"9e854250\",\"go_index.md\":\"216cf014\",\"interview_index.md\":\"95684ac7\",\"other_01.md\":\"4df6bda9\",\"other_index.md\":\"8cb72017\",\"project_index.md\":\"952b6a59\",\"database_mongodb_01-mongodb.md\":\"a40947be\",\"database_mongodb_index.md\":\"3af430fb\",\"database_mysql_index.md\":\"069c3221\",\"database_redis_index.md\":\"78702868\",\"front-end_js_base.md\":\"0ce7e712\",\"front-end_js_index.md\":\"b1aeeb40\",\"front-end_nest_01.md\":\"88e03fc7\",\"front-end_nest_index.md\":\"6b936122\",\"front-end_node_1-webpack5-node.md\":\"02a44a63\",\"front-end_node_index.md\":\"b4af2bf3\",\"front-end_react_index.md\":\"999f96d7\",\"front-end_react-native_01.md\":\"4b5bd68c\",\"front-end_react-native_02.md\":\"0cbaa124\",\"front-end_react-native_03.md\":\"ef88dbb4\",\"front-end_react-native_04.md\":\"59990c25\",\"front-end_react-native_05.md\":\"5a6f2823\",\"front-end_react-native_index.md\":\"4a688f57\",\"front-end_typescript_01-环境准备.md\":\"eca0929d\",\"front-end_typescript_02-为什么要学习typescript.md\":\"423019f4\",\"front-end_typescript_03-类型全解.md\":\"e1d4185d\",\"front-end_typescript_index.md\":\"daa4b4ea\",\"front-end_vue_index.md\":\"7aa6270f\",\"front-end_wechat_index.md\":\"be489b0e\",\"utils_docker_01-docker.md\":\"dd4fb0c8\",\"utils_docker_02-docker-compose.md\":\"829a54a1\",\"utils_docker_03-dockerfile.md\":\"4842e1a3\",\"utils_docker_04-ci.md\":\"b689cd9c\",\"utils_docker_index.md\":\"0c8c0846\",\"utils_git_01.md\":\"bb3f6801\",\"utils_git_02.md\":\"f57fbcb3\",\"utils_git_03.md\":\"e548fdc3\",\"utils_git_index.md\":\"386b9cdf\"}")</script>
    <script type="module" async src="/assets/app.ee89e8a3.js"></script>
  </body>
</html>