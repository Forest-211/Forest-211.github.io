<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类型全解 | Forest</title>
    <meta name="description" content="笔记记录、阅读">
    <link rel="stylesheet" href="/assets/style.abb680c9.css">
    <link rel="modulepreload" href="/assets/Home.27ba9be6.js">
    <link rel="modulepreload" href="/assets/app.ee89e8a3.js">
    <link rel="modulepreload" href="/assets/front-end_typescript_03-类型全解.md.45e993ab.lean.js">
    <link rel="modulepreload" href="/assets/app.ee89e8a3.js">
    <meta name="twitter:title" content="类型全解 | Forest">
    <meta property="og:title" content="类型全解 | Forest">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-7161a24b><div class="sidebar-button" data-v-7161a24b><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Forest, back to home" data-v-7161a24b data-v-4a583abe><!----> Forest</a><div class="flex-grow" data-v-7161a24b></div><div class="nav" data-v-7161a24b><nav class="nav-links" data-v-7161a24b data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/" data-v-641633f9>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>前端</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/js/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>javascript</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/vue/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>vue</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item active" href="/front-end/typescript/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Ts</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/node/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>node</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/nest/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>nest</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react-native/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react-native</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/go/" data-v-641633f9>Go <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>工具</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/git/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Git</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/docker/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Docker</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/other/" data-v-641633f9>其他 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item isExternal" href="https://github.com/Forest-211" target="_blank" rel="noopener noreferrer" data-v-641633f9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-641633f9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-6b49cdcd><nav class="nav-links nav" data-v-6b49cdcd data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/" data-v-641633f9>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>前端</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/js/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>javascript</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/vue/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>vue</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item active" href="/front-end/typescript/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Ts</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/node/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>node</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/nest/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>nest</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react-native/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react-native</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/go/" data-v-641633f9>Go <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>工具</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/git/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Git</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/docker/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Docker</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/other/" data-v-641633f9>其他 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item isExternal" href="https://github.com/Forest-211" target="_blank" rel="noopener noreferrer" data-v-641633f9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-641633f9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-6b49cdcd><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/front-end/typescript/">TypeScript</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/front-end/typescript/01-环境准备">环境准备</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/front-end/typescript/02-为什么要学习TypeScript">为什么要学习TS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/front-end/typescript/03-类型全解">类型全解</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#字符串">字符串</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#数字">数字</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#布尔值">布尔值</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#symbol">symbol</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#any">any</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#unknown">unknown</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#void、undefined、null">void、undefined、null</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#never">never</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#数组">数组</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#元祖">元祖</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#只读数组和元祖">只读数组和元祖</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#object">object</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#枚举">枚举</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#类型推断">类型推断</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#字面量类型">字面量类型</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#类型别名">类型别名</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="类型全解"><a class="header-anchor" href="#类型全解" aria-hidden="true">#</a> 类型全解</h1><p>在语法层面，缺省类型注解的 TypeScript 与 JavaScript 完全一致。因此，我们可以把 TypeScript 代码的编写看作是为 JavaScript 代码添加类型注解 在 JavaScript 中，原始类型指的是非对象且没有方法的数据类型，它包括 string、number、bigint、boolean、undefined 和 symbol 这六种 (null 是一个伪原始类型，它在 JavaScript 中实际上是一个对象，且所有的结构化类型都是通过 null 原型链派生而来)。原始类型值是最底层的实现，对应到 TypeScript 中同样也是最底层的类型</p><h2 id="字符串"><a class="header-anchor" href="#字符串" aria-hidden="true">#</a> 字符串</h2><p>在 JavaScript 中，我们可以使用string表示 JavaScript 中任意的字符串(包括模板字符串)，具体示例如下所示：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> firstname<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#39;Forest&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 字符串字面量</span>
<span class="token keyword">let</span> familyname<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显式类型转换</span>
<span class="token keyword">let</span> fullname<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>familyname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 模板字符串</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>所有 JavaScript 支持的定义字符串的方法，我们都可以直接在 TypeScript 中使用</p></div><h2 id="数字"><a class="header-anchor" href="#数字" aria-hidden="true">#</a> 数字</h2><p>同样，我们可以使用number类型表示 JavaScript 已经支持或者即将支持的十进制整数、浮点数，以及二进制数、八进制数、十六进制数，具体的示例如下所示：</p><div class="language-typescript"><pre><code><span class="token comment">/** 十进制整数 */</span>
<span class="token keyword">let</span> integer<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

<span class="token comment">/** 十进制整数 */</span>
<span class="token keyword">let</span> integer2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** 十进制浮点数 */</span>
<span class="token keyword">let</span> decimal<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>

<span class="token comment">/** 二进制整数 */</span>
<span class="token keyword">let</span> binary<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0b1010</span><span class="token punctuation">;</span>

<span class="token comment">/** 八进制整数 */</span>
<span class="token keyword">let</span> octal<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0o744</span><span class="token punctuation">;</span>

<span class="token comment">/** 十六进制整数 */</span>
<span class="token keyword">let</span> hex<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0xf00d</span><span class="token punctuation">;</span>
</code></pre></div><p>如果使用较少的大整数，那么我们可以使用bigint类型来表示</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> big<span class="token operator">:</span> bigint <span class="token operator">=</span>  <span class="token number">100n</span><span class="token punctuation">;</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>虽然number和bigint都表示数字，但是这两个类型不兼容。</p></div><h2 id="布尔值"><a class="header-anchor" href="#布尔值" aria-hidden="true">#</a> 布尔值</h2><p>使用boolean表示 true 或者 false，该值可以比较(==、===、||、&amp;&amp;)、可以否定(!)</p><div class="language-typescript"><pre><code><span class="token comment">/** TypeScript 真香 为 真 */</span>
<span class="token keyword">let</span> <span class="token keyword">type</span>ScriptIsGreat<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

 <span class="token comment">/** TypeScript 太糟糕了 为 否 */</span>
<span class="token keyword">let</span> <span class="token keyword">type</span>ScriptIsBad<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="symbol"><a class="header-anchor" href="#symbol" aria-hidden="true">#</a> symbol</h2><p>自 ECMAScript 6 起，TypeScript 开始支持新的Symbol原始类型， 即我们可以通过Symbol构造函数，创建一个独一无二的标记；同时，还可以使用symbol表示如下代码所示的类型</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> sym1<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sym2<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;42&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TypeScript 还包含 Number、String、Boolean、Symbol 等类型(注意区分大小写)；当为大写时表示类型字面量</p></div><h2 id="any"><a class="header-anchor" href="#any" aria-hidden="true">#</a> any</h2><p>any指的是一个任意类型，是类型中的教父。为了目的它不惜一切代价，但是不要轻易请它纯棉，除非不得已；在TypeScript中，编译时一定都要有类型，如果你无法确定类型是什么，默认为any；这是个兜底类型，应该尽可能的避免使用；any类型的值就像常规的JavaScript一样，我们可以对被注解为 any 类型的变量进行任何操作，包括获取事实上并不存在的属性、方法，并且 TypeScript 还无法检测其属性是否存在、类型是否正确。类型检查器完全发挥不了作用</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> anything<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
anything<span class="token punctuation">.</span><span class="token function">doAnything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
anything <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
anything <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>

<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> anything<span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> anything<span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
</code></pre></div><p>any 类型会在对象的调用链中进行传导，即所有 any 类型的任意属性的类型都是 any</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> anything<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> anything<span class="token punctuation">.</span>x<span class="token punctuation">.</span>y<span class="token punctuation">.</span>z<span class="token punctuation">;</span> <span class="token comment">// z 类型是 any，不会提示错误</span>
<span class="token function">z</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
</code></pre></div><h2 id="unknown"><a class="header-anchor" href="#unknown" aria-hidden="true">#</a> unknown</h2><p>unknown类型，它主要用来描述类型并不确定的变量；unknown类型的值可以比较、可以否定、可以使用JavaScript的typeof和instanceof运算符细化</p><p>比如在多个 if else 条件分支场景下，它可以用来接收不同条件下类型各异的返回值的临时变量，如下代码所示：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">...</span>
</code></pre></div><p>与 any 不同的是，unknown 在类型上更安全。比如我们<em><strong>可以将任意类型的值赋值给 unknown，但 unknown 类型的值只能赋值给 unknown 或 any</strong></em>，如下代码所示：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> result<span class="token punctuation">;</span> <span class="token comment">// 提示 ts(2322)</span>
<span class="token keyword">let</span> anything<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> result<span class="token punctuation">;</span> <span class="token comment">// 不会提示错误</span>
</code></pre></div><p>使用 unknown 后，TypeScript 会对它做类型检测。但是，如果不缩小类型（Type Narrowing），我们对 unknown 执行的任何操作都会出现如下所示错误：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
result<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 提示 ts(2571)</span>
</code></pre></div><p>而所有的类型缩小手段对 unknown 都有效，如下代码所示：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token builtin">unknown</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 此处 hover result 提示类型是 number，不会提示错误</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="void、undefined、null"><a class="header-anchor" href="#void、undefined、null" aria-hidden="true">#</a> void、undefined、null</h2><p>void 类型，它仅适用于表示没有返回值的函数。即如果该函数没有返回值，那它的类型就是 void。在 strict 模式下，声明一个 void 类型的变量几乎没有任何实际用处，因为我们不能把 void 类型的变量值再赋值给除了 any 和 unkown 之外的任何类型变量。</p><p>undefined 类型 和 null 类型，它们是 TypeScript 值与类型关键字同名的唯二例外</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> undeclared<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> nullable<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
</code></pre></div><p>undefined 的最大价值主要体现在接口类型上，它表示一个可缺省、未定义的属性。</p><p>我们可以把 undefined 值或类型是 undefined 的变量赋值给 void 类型变量，反过来，类型是 void 但值是 undefined 的变量不能赋值给 undefined 类型。</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> userInfo<span class="token operator">:</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> undeclared<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> unusable<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
unusable <span class="token operator">=</span> undeclared<span class="token punctuation">;</span> <span class="token comment">// ok</span>
undeclared <span class="token operator">=</span> unusable<span class="token punctuation">;</span> <span class="token comment">// ts(2322)</span>
</code></pre></div><p>除此之外，undefined 和 null 类型还具备警示意义，它们可以提醒我们针对可能操作这两种（类型）值的情况做容错处理。也就是在操作之前判断值的类型是否支持当前的操作，类型守卫既能通过类型缩小影响 TypeScript 的类型检测，也能保障 JavaScript 运行时的安全性，如下代码所示：</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> user<span class="token operator">:</span> <span class="token punctuation">{</span>
  id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Captain&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>id <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  userInfo<span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// id 的类型缩小成 number</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们可以使用非空断言来排除值可能为 null 或 undefined 的情况，但是这样很不安全。</p><div class="language-typescript"><pre><code>userInfo<span class="token punctuation">.</span>id<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
userInfo<span class="token punctuation">.</span>name<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>而比非空断言更安全、类型守卫更方便的做法是使用单问号（Optional Chain）、双问号（空值合并），我们可以使用它们来保障代码的安全性，如下代码所示：</p><div class="language-typescript"><pre><code>userInfo<span class="token punctuation">.</span>id<span class="token operator">?.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Optional Chain</span>
<span class="token keyword">const</span> myName <span class="token operator">=</span> userInfo<span class="token punctuation">.</span>name<span class="token operator">??</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// 空值合并</span>
</code></pre></div><h2 id="never"><a class="header-anchor" href="#never" aria-hidden="true">#</a> never</h2><p>never 表示永远不会发生值的类型</p><div class="language-typescript"><pre><code><span class="token keyword">function</span> <span class="token function">ThrowError</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>以上函数因为永远不会有返回值，所以它的返回值类型就是 never。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>never 是所有类型的子类型，它可以给所有类型赋值；但是反过来，除了 never 自身以外，其他类型（包括 any 在内的类型）都不能为 never 类型赋值。</p></div><div class="language-typescript"><pre><code><span class="token keyword">let</span> Unreachable<span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 			<span class="token comment">// 报错</span>
Unreachable <span class="token operator">=</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">;</span> 					<span class="token comment">// 报错</span>
Unreachable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> 							<span class="token comment">// 报错</span>
<span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> Unreachable<span class="token punctuation">;</span> 		<span class="token comment">// ok</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> Unreachable<span class="token punctuation">;</span> 		<span class="token comment">// ok</span>
<span class="token keyword">let</span> bool<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> Unreachable<span class="token punctuation">;</span> 	<span class="token comment">// ok</span>
</code></pre></div><h2 id="数组"><a class="header-anchor" href="#数组" aria-hidden="true">#</a> 数组</h2><p>在 TypeScript 中，我们也可以像 JavaScript 一样定义数组类型，并且指定数组元素的类型。</p><p>TypeScript定义语法有两种形式：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> 变量名<span class="token operator">:</span><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> 变量名<span class="token operator">:</span><span class="token builtin">Array</span><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
</code></pre></div><p>示例：</p><div class="language-typescript"><pre><code><span class="token comment">/**
 * 第一种方式定义数组
 */</span>
<span class="token comment">// 子元素是数字类型的数组</span>
<span class="token keyword">let</span> arrayOfNumber<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 子元素是字符串类型的数组</span>
<span class="token keyword">let</span> arrayOfString<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;z&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * 第二种方式定义数组
 */</span>
<span class="token comment">// 子元素是数字类型的数组</span>
<span class="token keyword">let</span> arrayOfNumber<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 子元素是字符串类型的数组</span>
<span class="token keyword">let</span> arrayOfString<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;z&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>以上两种方式都可以定义数组，本质上没有任何区别，具体采用那种形式，取决于个人习惯或者团队规范要求而定</p><h2 id="元祖"><a class="header-anchor" href="#元祖" aria-hidden="true">#</a> 元祖</h2><p>元祖是array的子类型，是定义数组的一种特殊方式，长度固定，各索引位上的值具有固定的已知类型；元组最重要的特性是可以限制数组元素的个数和类型，它特别适合用来实现多值返回</p><p>在 JavaScript 中并没有元组的概念，作为一门动态类型语言，它的优势是天然支持多类型元素数组</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> fruit<span class="token operator">:</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Apple&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>元祖也支持可选的和剩余元素，与在对象的类型中一样，<code>?</code>表示可选</p></div><ul><li><p>可选元素</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> trainFars<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">?</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">23.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6.28</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">9.42</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div><p>上面代码表示二维数组中的元素可以是数组类型的一个元素或两个元素</p></li><li><p>剩余元素</p><div class="language-typescript"><pre><code><span class="token comment">// 至少有一个元素</span>
<span class="token keyword">let</span> friends<span class="token operator">:</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sare&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tali&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Chloe&quot;</span><span class="token punctuation">]</span>

<span class="token comment">// 不同类型的元素列表</span>
<span class="token keyword">let</span> list<span class="token operator">:</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
</code></pre></div></li></ul><h3 id="只读数组和元祖"><a class="header-anchor" href="#只读数组和元祖" aria-hidden="true">#</a> 只读数组和元祖</h3><p>常规的数组是可变的(可以使用<code>.push</code>、<code>.splice</code>等方法更新数组)；不过我们又是希望数组不可变，修改之后得到的新的数组，而原数组没有变化。TypeScript原生支持只读数组类型，用于创建不可变的数组。只读数组与常规的数组没有多大差别，只是不能就地更改；若想创建只读数组，要显示注解类型；若想更改只读数组，使用非变形方法，例如：<code>.concat()</code>、<code>.slice()</code>，不能使用可变型方法，例如：<code>.push()</code>、<code>.splice</code></p><div class="language-typescript"><pre><code><span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> nums<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;args:&#39;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token comment">// args: [ 1, 2, 3, 4, 5 ]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;nums:&#39;</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span> <span class="token comment">// nums: [1, 2, 3, 4, 5, 4, 5, 6]</span>

<span class="token comment">// 修改元素</span>
args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 报错 类型“readonly number[]”中的索引签名仅允许读取</span>

<span class="token comment">// 添加数据</span>
args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// 报错 类型“readonly number[]”上不存在属性“push”</span>
</code></pre></div><p>注解数组类型还可以使用Array；类似声明制度数组和元祖，也可以使用长格式语法：</p><div class="language-typescript"><pre><code><span class="token keyword">type</span> <span class="token class-name">letter</span> <span class="token operator">=</span> <span class="token keyword">readonly</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">str</span> <span class="token operator">=</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
<span class="token keyword">type</span> <span class="token class-name">list</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>

<span class="token comment">// 多类型声明</span>
<span class="token keyword">type</span> <span class="token class-name">user</span> <span class="token operator">=</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">fruit</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
</code></pre></div><h2 id="object"><a class="header-anchor" href="#object" aria-hidden="true">#</a> object</h2><p>object 类型表示非原始类型的类型，即非 number、string、boolean、bigint、symbol、null、undefined 的类型。然而，它也是个没有什么用武之地的类型，如下所示的一个应用场景是用来表示 Object.create 的类型。</p><div class="language-typescript"><pre><code><span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span>o<span class="token operator">:</span> object <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译报错</span>
<span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 编译报错</span>
</code></pre></div><p>TypeScript中声明对象类型的四种方式</p><ul><li>对象字面量表示法(例如：{a: string})，也称对象的结构。如果知道对象有哪些字段，或者对象的值都为相同的类型，使用这种方式</li><li>空对象字面量表示法({})。尽量避免使用这种方式</li><li>object类型。如果需要一个对象，但对对象的字段没有要求，使用这种方式</li><li>Object类型。尽量使用这种方式</li></ul><h3 id="枚举"><a class="header-anchor" href="#枚举" aria-hidden="true">#</a> 枚举</h3><p>枚举的作用是列举类型中包含的各个值；这是一个无序数据结构，把键映射到值上；枚举可以理解为编译时固定的对象，访问键时，TypeScript将检查指定的键是否存在</p><p>枚举分两种：</p><ul><li>字符串与字符串之间的映射</li><li>字符串与数字之间的映射</li></ul><div class="language-typescript"><pre><code><span class="token keyword">enum</span> Language <span class="token punctuation">{</span>
  English<span class="token punctuation">,</span>
  Spanish<span class="token punctuation">,</span>
  Russian
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>按约定，枚举名称为大写的单数形式；枚举中的键也为大写</p></div><p>TypeScript可以自动为枚举中的各个成员导出对应的数字，你也可以自己手动设置</p><p>上面的代码经ts推导后可得到如下结果：</p><div class="language-typescript"><pre><code><span class="token keyword">enum</span> Language <span class="token punctuation">{</span>
  English <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  Spanish <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  Russian <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><p>枚举中的值使用点号或者方括号表示法访问，就像访问对象中的值一样；如果访问的值不存的话，就会报错，不过一般都直接在编辑器显示出来</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> english <span class="token operator">=</span> Language<span class="token punctuation">.</span>English  <span class="token comment">// 点号访问</span>
<span class="token keyword">let</span> spanish <span class="token operator">=</span> Language<span class="token punctuation">[</span><span class="token string">&#39;Spanish&#39;</span><span class="token punctuation">]</span> <span class="token comment">// 中括号访问</span>
</code></pre></div><p>成员的值也可以经计算得出，而且不必为所有成员都赋值</p><div class="language-typescript"><pre><code><span class="token keyword">enum</span> Language <span class="token punctuation">{</span>
  English <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>
  Spanish <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  Russian		<span class="token comment">// 此时如果不手动设置固定值时，Russian默认为 201，也就是上一个枚举成员的下一个数</span>
<span class="token punctuation">}</span>
</code></pre></div><p>枚举的值混合使用：</p><div class="language-typescript"><pre><code><span class="token keyword">enum</span> Colors <span class="token punctuation">{</span>
  Red <span class="token operator">=</span> <span class="token string">&#39;#c10000&#39;</span><span class="token punctuation">,</span>
  Blue <span class="token operator">=</span> <span class="token string">&#39;#007ac1&#39;</span><span class="token punctuation">,</span>
  Pink <span class="token operator">=</span> <span class="token number">0xc10050</span><span class="token punctuation">,</span>	<span class="token comment">// 十六进制字面量</span>
  White <span class="token operator">=</span> <span class="token number">255</span>				<span class="token comment">// 十进制</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为了避免不安全的访问操作，可以通过<code>const enum</code>指定使用枚举的安全子集；但是<code>const enum</code>不允许反向查找，行为与常规的JavaScript对象很想；如下：</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Language <span class="token punctuation">{</span>
  English<span class="token punctuation">,</span>
  Spanish<span class="token punctuation">,</span>
  Russian
<span class="token punctuation">}</span>

<span class="token comment">// 访问一个有效的枚举键</span>
<span class="token keyword">let</span> english <span class="token operator">=</span> Language<span class="token punctuation">.</span>English <span class="token comment">// 0</span>

<span class="token comment">// 访问一个不存在的键</span>
<span class="token keyword">let</span> <span class="token constant">US</span> <span class="token operator">=</span> Language<span class="token punctuation">.</span><span class="token constant">US</span> <span class="token comment">// 报错</span>
</code></pre></div><h2 id="类型推断"><a class="header-anchor" href="#类型推断" aria-hidden="true">#</a> 类型推断</h2><p>在 TypeScript 中，<strong>类型标注声明是在变量之后</strong>（即类型后置），它不像 Java、C 语言一样，先声明变量的类型，再声明变量的名称</p><p>使用类型标注后置的好处是编译器可以通过代码所在的上下文推导其对应的类型，无须再声明变量类型，具体示例如下：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> x1 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// 推断出 x1 的类型是 number</span>
<span class="token keyword">let</span> x2<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> x1<span class="token punctuation">;</span> <span class="token comment">// ok</span>
</code></pre></div><p>在 TypeScript 中，具有初始化值的变量、有默认值的函数参数、函数返回的类型都可以根据上下文推断出来。比如我们能根据 return 语句推断函数返回的类型，如下代码所示：</p><div class="language-typescript"><pre><code><span class="token comment">// 根据参数的类型，推断出返回值的类型也是 number</span>
<span class="token keyword">function</span> <span class="token function">add1</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> x1<span class="token operator">=</span> <span class="token function">add1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 推断出 x1 的类型也是 number</span>

<span class="token comment">// 推断参数 b 的类型是数字或者 undefined，返回值的类型也是数字</span>
<span class="token keyword">function</span> <span class="token function">add2</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> x2 <span class="token operator">=</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> x3 <span class="token operator">=</span> <span class="token function">add2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 Argument of type &#39;&quot;1&quot;&#39; is not assignable to parameter of type &#39;number | undefined</span>
</code></pre></div><h3 id="字面量类型"><a class="header-anchor" href="#字面量类型" aria-hidden="true">#</a> 字面量类型</h3><p>在 TypeScript 中，字面量不仅可以表示值，还可以表示类型，即所谓的字面量类型</p><p>TypeScript 支持 3 种字面量类型：</p><ul><li>字符串字面量类型</li><li>数字字面量类型</li><li>布尔字面量类型</li></ul><div class="language-typescript"><pre><code><span class="token keyword">let</span> specifiedStr<span class="token operator">:</span> <span class="token string">&#39;this is string&#39;</span> <span class="token operator">=</span> <span class="token string">&#39;this is string&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> specifiedNum<span class="token operator">:</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> specifiedBoolean<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>字面量类型是集合类型的子类型，它是集合类型的一种更具体的表达。比如 &#39;this is string&#39; （这里表示一个字符串字面量类型）类型是 string 类型（确切地说是 string 类型的子类型），而 string 类型不一定是 &#39;this is string&#39;（这里表示一个字符串字面量类型）类型，如下具体示例：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> specifiedStr<span class="token operator">:</span> <span class="token string">&#39;this is string&#39;</span> <span class="token operator">=</span> <span class="token string">&#39;this is string&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#39;any string&#39;</span><span class="token punctuation">;</span>
specifiedStr <span class="token operator">=</span> str<span class="token punctuation">;</span> <span class="token comment">// 报错  类型 &#39;&quot;string&quot;&#39; 不能赋值给类型 &#39;this is string&#39;</span>
str <span class="token operator">=</span> specifiedStr<span class="token punctuation">;</span> <span class="token comment">// ok </span>
</code></pre></div><h4 id="字符串字面量类型"><a class="header-anchor" href="#字符串字面量类型" aria-hidden="true">#</a> 字符串字面量类型</h4><p>一般来说，我们可以使用一个字符串字面量类型作为变量的类型，如下代码所示：</p><div class="language-typescript"><pre><code><span class="token keyword">let</span> hello<span class="token operator">:</span> <span class="token string">&#39;hello&#39;</span> <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
hello <span class="token operator">=</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 报错  Type &#39;&quot;hi&quot;&#39; is not assignable to type &#39;&quot;hello&quot;&#39;</span>
</code></pre></div><p>通过使用字面量类型组合的联合类型，我们可以限制函数的参数为指定的字面量类型集合，然后编译器会检查参数是否是指定的字面量类型集合里的成员。</p><p>因此，相较于使用 string 类型，使用字面量类型（组合的联合类型）可以将函数的参数限定为更具体的类型。这不仅提升了程序的可读性，还保证了函数的参数类型，可谓一举两得。</p><h4 id="数字字面量类型及布尔字面量类型"><a class="header-anchor" href="#数字字面量类型及布尔字面量类型" aria-hidden="true">#</a> 数字字面量类型及布尔字面量类型</h4><p>数字字面量类型和布尔字面量类型的使用与字符串字面量类型的使用类似，我们可以使用字面量组合的联合类型将函数的参数限定为更具体的类型，比如声明如下所示的一个类型 Config：</p><div class="language-typescript"><pre><code><span class="token keyword">interface</span> <span class="token class-name">Config</span> <span class="token punctuation">{</span>
    size<span class="token operator">:</span> <span class="token string">&#39;small&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;big&#39;</span><span class="token punctuation">;</span>
    isEnable<span class="token operator">:</span>  <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    margin<span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在上述代码中，我们限定了 size 属性为字符串字面量类型 &#39;small&#39; | &#39;big&#39;，isEnable 属性为布尔字面量类型 true | false（布尔字面量只包含 true 和 false，true | false 的组合跟直接使用 boolean 没有区别），margin 属性为数字字面量类型 0 | 2 | 4。</p><h2 id="类型别名"><a class="header-anchor" href="#类型别名" aria-hidden="true">#</a> 类型别名</h2><p>我们可以使用变量声明为值声明别名，类似地，还可以为类型声明别名。比如：</p><div class="language-typescript"><pre><code><span class="token keyword">type</span> <span class="token class-name">Age</span> <span class="token operator">=</span> <span class="token builtin">number</span>

<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> Age<span class="token punctuation">;</span>
  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Age就是一个<code>number</code>，TypeScript无法推导类型别名，因此必须显示注解：</p><div class="language-typescript"><pre><code><span class="token keyword">type</span> <span class="token class-name">Age</span> <span class="token operator">=</span> <span class="token builtin">number</span>

<span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
    age<span class="token operator">:</span> Age
    email<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> age<span class="token operator">:</span> Age <span class="token operator">=</span> <span class="token number">22</span>
<span class="token keyword">let</span> forest<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;Forest&#39;</span><span class="token punctuation">,</span>
    age<span class="token punctuation">,</span>
    email<span class="token operator">:</span> <span class="token string">&#39;767425412@qq.com&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用类型别名地地方都可以替换成源类型，程序的语义不受影响</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/front-end/typescript/02-为什么要学习TypeScript" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>为什么要学习TS</span></a></div><div class="next" data-v-38ede35f><!----></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"c7244d83\",\"go_00-起步.md\":\"080f0ba2\",\"go_01-基础.md\":\"13de5d07\",\"go_02-数组与切片.md\":\"c6f76fd3\",\"go_03-流程控制与循环.md\":\"01948430\",\"go_04-map.md\":\"c26ed794\",\"go_05-函数.md\":\"8cabfe30\",\"go_06-结构体与方法.md\":\"813c6f5a\",\"go_07-接口.md\":\"ef564469\",\"go_08-协程与通道.md\":\"68c194c9\",\"go_09-并发资源.md\":\"eb7ae251\",\"go_10-测试.md\":\"06662f58\",\"go_11-反射.md\":\"4844e948\",\"go_12-web开发基础.md\":\"0223580a\",\"go_index.md\":\"57b5e30c\",\"interview_index.md\":\"d2bafcac\",\"other_01.md\":\"1ebbc3a0\",\"other_index.md\":\"237dedc5\",\"project_index.md\":\"042ca78d\",\"database_mongodb_01-mongodb.md\":\"0de9dbfa\",\"database_mongodb_index.md\":\"092cb0d4\",\"database_mysql_index.md\":\"a140efe7\",\"database_redis_index.md\":\"6d409371\",\"front-end_js_base.md\":\"f707bdbd\",\"front-end_js_index.md\":\"33c5364d\",\"front-end_nest_01.md\":\"97514e3c\",\"front-end_nest_index.md\":\"8aa3d34c\",\"front-end_node_1-webpack5-node.md\":\"5e790d26\",\"front-end_node_index.md\":\"7c16752d\",\"front-end_react_index.md\":\"9157923d\",\"front-end_react-native_01.md\":\"dd6d41a3\",\"front-end_react-native_02.md\":\"52a17792\",\"front-end_react-native_03.md\":\"0e77c1ac\",\"front-end_react-native_04.md\":\"e8f932b5\",\"front-end_react-native_05.md\":\"e27dfd6e\",\"front-end_react-native_index.md\":\"4bb20a71\",\"front-end_typescript_01-环境准备.md\":\"1df28081\",\"front-end_typescript_02-为什么要学习typescript.md\":\"377e097a\",\"front-end_typescript_03-类型全解.md\":\"45e993ab\",\"front-end_typescript_index.md\":\"bbda1cd0\",\"front-end_vue_index.md\":\"d849ae54\",\"front-end_wechat_index.md\":\"eeb87f05\",\"utils_docker_01-docker.md\":\"aaf07eac\",\"utils_docker_02-docker-compose.md\":\"59ea803a\",\"utils_docker_03-dockerfile.md\":\"9510a47a\",\"utils_docker_04-ci.md\":\"43fafad4\",\"utils_docker_index.md\":\"24e976c1\",\"utils_git_01.md\":\"b68eaf3f\",\"utils_git_02.md\":\"18955703\",\"utils_git_03.md\":\"71b78207\",\"utils_git_index.md\":\"466c361e\"}")</script>
    <script type="module" async src="/assets/app.ee89e8a3.js"></script>
  </body>
</html>