<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>map | Forest</title>
    <meta name="description" content="笔记记录、阅读">
    <link rel="stylesheet" href="/assets/style.abb680c9.css">
    <link rel="modulepreload" href="/assets/Home.a57cbedf.js">
    <link rel="modulepreload" href="/assets/app.3319f5d3.js">
    <link rel="modulepreload" href="/assets/go_04-map.md.362834e4.lean.js">
    <link rel="modulepreload" href="/assets/app.3319f5d3.js">
    <meta name="twitter:title" content="map | Forest">
    <meta property="og:title" content="map | Forest">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-7161a24b><div class="sidebar-button" data-v-7161a24b><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Forest, back to home" data-v-7161a24b data-v-4a583abe><!----> Forest</a><div class="flex-grow" data-v-7161a24b></div><div class="nav" data-v-7161a24b><nav class="nav-links" data-v-7161a24b data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/" data-v-641633f9>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>基础</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/js/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>javascript</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/vue/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>vue</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/typescript/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Ts</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/node/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>node</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/nest/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>nest</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react-native/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react-native</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item active" href="/go/" data-v-641633f9>Go <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>工具</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/git/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Git</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/docker/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Docker</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/other/" data-v-641633f9>other <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/interview/" data-v-641633f9>面试 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item isExternal" href="https://github.com/Forest-211" target="_blank" rel="noopener noreferrer" data-v-641633f9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-641633f9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-6b49cdcd><nav class="nav-links nav" data-v-6b49cdcd data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/" data-v-641633f9>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>基础</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/js/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>javascript</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/vue/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>vue</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/typescript/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Ts</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/node/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>node</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/nest/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>nest</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/front-end/react-native/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>react-native</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item active" href="/go/" data-v-641633f9>Go <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-dropdown-link" data-v-15acbf05 data-v-90f2c308><button class="button" data-v-90f2c308><span class="button-text" data-v-90f2c308>工具</span><span class="right button-arrow" data-v-90f2c308></span></button><ul class="dialog" data-v-90f2c308><!--[--><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/git/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Git</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><li class="dialog-item" data-v-90f2c308><div class="nav-dropdown-link-item" data-v-90f2c308 data-v-57d767ef><a class="item" href="/utils/docker/" data-v-57d767ef><span class="arrow" data-v-57d767ef></span><span class="text" data-v-57d767ef>Docker</span><span class="icon" data-v-57d767ef><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/other/" data-v-641633f9>other <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item" href="/interview/" data-v-641633f9>面试 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-641633f9><a class="item isExternal" href="https://github.com/Forest-211" target="_blank" rel="noopener noreferrer" data-v-641633f9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-641633f9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-6b49cdcd><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/go/">Go</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go/01-基础">起步</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go/02-数组与切片">数组与切片</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go/03-流程控制与循环">流程控制与循环</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/go/04-map">map</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#创建map">创建map</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#字面量方式创建">字面量方式创建</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#使用内置函数make创建">使用内置函数make创建</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#map的基本操作">map的基本操作</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#访问map中的值">访问map中的值</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#添加键值对">添加键值对</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#修改map中的值">修改map中的值</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#删除键值对">删除键值对</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#遍历map">遍历map</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#在map中嵌入切片">在map中嵌入切片</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#在map中嵌入map">在map中嵌入map</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go/05-函数">函数</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go/06-结构体与方法">结构体与方法</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/go/07-接口">接口</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="map"><a class="header-anchor" href="#map" aria-hidden="true">#</a> map</h1><p>数组和切片属于单一元素的容器，他们使用连续存储的方式存储元素，每个元素的类型都是相同的。map(字典)与它们不同，它存储的不是单一元素，而是键值对(包含一个key和value)；在map中，所有键的类型都是相同的，所有值的类型也是相同的，但键和值的类型可以不同，键的类型必须通过<code>==</code>来进行比较数据类型</p><p>在Go语言中，字典是使用哈希表实现的；键和值互为映射。我们可以对键值对进行增加、删除、修改和查询等操作。</p><div class="language-go"><pre><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
		<span class="token string">&quot;typescript编程&quot;</span><span class="token punctuation">:</span>        <span class="token number">88</span><span class="token punctuation">,</span>
		<span class="token string">&quot;Go极简一本通&quot;</span><span class="token punctuation">:</span>             <span class="token number">99</span><span class="token punctuation">,</span>
		<span class="token string">&quot;Go Web编程实战派&quot;</span><span class="token punctuation">:</span>         <span class="token number">128</span><span class="token punctuation">,</span>
		<span class="token string">&quot;javascript高级程序设计&quot;</span><span class="token punctuation">:</span>    <span class="token number">129</span><span class="token punctuation">,</span>
		<span class="token string">&quot;javascript语言精髓与编程实践&quot;</span><span class="token punctuation">:</span> <span class="token number">144</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>

	price<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;Go Web编程实战派&quot;</span><span class="token punctuation">]</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;can not find&quot;</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;price:&quot;</span><span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token comment">// price: 128</span>

<span class="token punctuation">}</span>
</code></pre></div><p>上面这段代码就是在哈希表中查找与某一个键对应的值，所以需要先把键作为参数传递给哈希表，哈希表再用哈希函数把键转为哈希值。哈希值通常是一个无符号的整数；在一个哈希表中通常有一定数量的桶(bucket)，叫作哈希桶；这些哈希桶会均匀的存储其所属哈希表收纳的键值对。键值对总是在一起存储，只要找到了键，就一定能找到与之对应的值；然后哈希表把相应的值作为结果返回。</p><p>在Go语言中，每一个键都是由它的哈希值代表的map不会单独存储任何键，但会单独存储他们的哈希值。在Go语言规范中，键的类型不能是函数、map(字典)、切片。如果键的类型是接口类型，那么实际类型也不能是上面上种，否则在程序运行时会引发<code>panic</code></p><h2 id="创建map"><a class="header-anchor" href="#创建map" aria-hidden="true">#</a> 创建map</h2><p>在Go语言中，map就是一系列键值对，我们可以通过键访问与之对应的值；与键相关的值可以是数字、字符串、切片，甚至是map；事实上，任何Go语言对象都可以称为map中的值。</p><h3 id="字面量方式创建"><a class="header-anchor" href="#字面量方式创建" aria-hidden="true">#</a> 字面量方式创建</h3><div class="language-go"><pre><code><span class="token comment">// 字面量方式创建</span>
<span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">}</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;访问nickname为：&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 访问nickname为： Forest</span>
</code></pre></div><h3 id="使用内置函数make创建"><a class="header-anchor" href="#使用内置函数make创建" aria-hidden="true">#</a> 使用内置函数make创建</h3><div class="language-go"><pre><code><span class="token comment">// make</span>
user <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
user<span class="token punctuation">[</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Forest&quot;</span>
user<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;22&quot;</span>
user<span class="token punctuation">[</span><span class="token string">&quot;gmail&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;767425412lin@gmail.com&quot;</span>
user<span class="token punctuation">[</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;ChengDu&quot;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// map[age:22 gmail:767425412lin@gmail.com location:ChengDu nickname:Forest]</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>可以使用<code>make()</code>函数来构造<code>map</code>，但不能使用<code>new()</code>函数来构造<code>map</code>。如果错误的使用<code>new()</code>函数分配了一个引用对戏那个，则会获得一个空指针，相当于声明了一个为初始化的变量并取得了它的地址。</p></div><h2 id="map的基本操作"><a class="header-anchor" href="#map的基本操作" aria-hidden="true">#</a> map的基本操作</h2><p>在Go语言中map用放在花括号({})中的一系列键值对表示，如使用字面量方式创建的形式；键值对相互关联，在访问键时将返回与之相关联的值。键与值之间用猫好分开，键值对之间用逗号隔开，这样就可以保存任意数量的键值对；最简单的map是只有一个键值对的字典，如下：</p><div class="language-go"><pre><code><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="访问map中的值"><a class="header-anchor" href="#访问map中的值" aria-hidden="true">#</a> 访问map中的值</h3><p>要想获取与键相关的值，则需要一次指定map名和方括号内的键：</p><div class="language-go"><pre><code><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">}</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;访问nickname为：&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>上面声明了一个名为m的map，并初始化了值，使用中括号访问键为<code>nickname</code>的值，若存在就会打印出来，若不存在Go语言也会明确的告诉我们，如下:</p><div class="language-go"><pre><code><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">}</span>
location<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;没有找到对应的值！&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;location:&quot;</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span>
</code></pre></div><p>上面代码中显然不会执行最后一行的打印，因为打m中没有<code>location</code>的键值对存在，所以会走进<code>if</code>判断里</p><h3 id="添加键值对"><a class="header-anchor" href="#添加键值对" aria-hidden="true">#</a> 添加键值对</h3><p>map是一种动态的数据结构，可以随时在其中添加键值对，并且可依次指定字典名、用方括号的方式使其与之关联。就拿上面的例子来说吧！添加一个<code>location</code>的键值对：</p><div class="language-go"><pre><code><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">}</span>
m<span class="token punctuation">[</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;ChengDu&quot;</span>
location<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">&quot;location&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;没有找到对应的值！&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;location:&quot;</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span> <span class="token comment">// location: ChengDu</span>
</code></pre></div><p>上面代码中也就是<code>m[location]=&quot;ChengDu&quot;</code>在原来的map添加了一对数据，所以后面的访问就不会走进<code>if</code>判断里了，最后一行的打印也说明了我们的添加是成功了的</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>键值对的排列顺序与添加顺序不同，Go语言不关心键值对的添加顺序，它只关心键值对之间的关联关系</p></div><h3 id="修改map中的值"><a class="header-anchor" href="#修改map中的值" aria-hidden="true">#</a> 修改map中的值</h3><p>其实修改方法与上面一样，同样也是使用方括号的方式进行修改</p><div class="language-go"><pre><code>	<span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">}</span>
	m<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;18&quot;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;修改后的age：&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 修改后的age： 18</span>
</code></pre></div><p>上面代码中，就是将age初始化声明的22改为18，最后一行的打印结果可以测试出修改后的结果。这种方式就是，如果运来声明的map中没有要修改的值则直接添加，如果有，则直接修改</p><h3 id="删除键值对"><a class="header-anchor" href="#删除键值对" aria-hidden="true">#</a> 删除键值对</h3><p>对于字典中不需要的信息，可以使用<code>delete</code>方法将相应的键值对进行删除；<strong>使用<code>delete</code>方法时，必须指定字典名称和要删除的键</strong>。即使删除的键不存在，这个删除也是安全的；map会使用给定的键来查找值，如果对应的值不存在，则返回该类型的零值</p><blockquote><p><code>delete()</code>方法有两个参数，第一个参数是map名，第二个参数是要删除数据的键</p></blockquote><div class="language-go"><pre><code><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">}</span>
m<span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;18&quot;</span>
<span class="token comment">// 删除email数据</span>
<span class="token function">delete</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;m:&quot;</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token comment">// m: map[age:18 nickname:Forest]</span>
</code></pre></div><h3 id="遍历map"><a class="header-anchor" href="#遍历map" aria-hidden="true">#</a> 遍历map</h3><p>一个map既可以包含几个键值对，也可以包含数百万个键值对。也就是说在一个map中可能包含大量的数据，因此需要通过遍历的方式来读取map中的数据。常用的遍历map的方式有三种：</p><ul><li>遍历map中所有的键值对</li><li>遍历map中的键</li><li>遍历map中的值</li></ul><p>在map中，值的迭代顺序是不固定的，即迭代的顺序是随机，从一个值开始到最后一个值结束。</p><div class="language-go"><pre><code><span class="token keyword">var</span> forest <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;nickname&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Forest&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;767425412@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;location&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;ChengDu&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> forest <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;key: %s, value: %s \n&quot;</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>结果如下：</p><img src="/assets/image-20210724180319874.b7548cfc.png" alt="image-20210724180319874" style="zoom:67%;"><h3 id="在map中嵌入切片"><a class="header-anchor" href="#在map中嵌入切片" aria-hidden="true">#</a> 在map中嵌入切片</h3><p>在实际的开发环境，可能会有比较复杂的应用场景，比如一个购物商城，男装系列、女装系列、图书系列、文具系列的等等都可能会用到嵌套结构</p><div class="language-go"><pre><code><span class="token keyword">func</span> <span class="token function">nested</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> sports <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
		<span class="token string">&quot;ball&quot;</span><span class="token punctuation">:</span>  <span class="token punctuation">{</span><span class="token string">&quot;basketball&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pingpong&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;soccer&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;badminton&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token string">&quot;other&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&quot;martial arts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;swimming&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;long run&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;high jump&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;sports:&quot;</span><span class="token punctuation">,</span> sports<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上面代码中，首先创建一个<code>sports</code>的<code>map</code>，键为字符串类型，值为字符串的切片</p><h3 id="在map中嵌入map"><a class="header-anchor" href="#在map中嵌入map" aria-hidden="true">#</a> 在map中嵌入map</h3><p>特别是一些商城类的产品中，经常可能会看到某一系列下的商品的商品名称、描述、价格、规格等等；这种场景就很可能会用到map嵌套map。下面来写个案例：</p><div class="language-go"><pre><code><span class="token keyword">var</span> books <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
  <span class="token string">&quot;四书&quot;</span><span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token string">&quot;论语&quot;</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&quot;大学&quot;</span><span class="token punctuation">:</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&quot;中庸&quot;</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&quot;孟子&quot;</span><span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;五经&quot;</span><span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token string">&quot;周易&quot;</span><span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string">&quot;诗书&quot;</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&quot;礼记&quot;</span><span class="token punctuation">:</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token string">&quot;尚书&quot;</span><span class="token punctuation">:</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token string">&quot;春秋&quot;</span><span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;书法&quot;</span><span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token string">&quot;兰亭集序&quot;</span><span class="token punctuation">:</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&quot;九成宫碑&quot;</span><span class="token punctuation">:</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token string">&quot;多宝塔&quot;</span><span class="token punctuation">:</span> <span class="token number">56</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>更新时间:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/go/03-流程控制与循环" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>流程控制与循环</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/go/05-函数" data-v-38ede35f><span class="text" data-v-38ede35f>函数</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"246c3c83\",\"go_00-起步.md\":\"4e14ef14\",\"go_01-基础.md\":\"d0e837ef\",\"go_02-数组与切片.md\":\"665abf1b\",\"go_03-流程控制与循环.md\":\"45af305f\",\"go_04-map.md\":\"362834e4\",\"go_05-函数.md\":\"eab9fcda\",\"go_06-结构体与方法.md\":\"a3f03f1b\",\"go_07-接口.md\":\"5aa4483e\",\"go_08-协程与通道.md\":\"85d0c26a\",\"go_09-并发资源.md\":\"09005b63\",\"go_10-测试.md\":\"fe0fc5db\",\"go_11-反射.md\":\"935820bb\",\"go_index.md\":\"71ac44dc\",\"interview_index.md\":\"38d363bd\",\"other_01.md\":\"cf440341\",\"other_index.md\":\"813ec280\",\"project_index.md\":\"1871f22a\",\"database_mongodb_01-mongodb.md\":\"9ffe3623\",\"database_mongodb_index.md\":\"9368255a\",\"database_mysql_index.md\":\"b764f270\",\"database_redis_index.md\":\"3cfc66ed\",\"front-end_js_base.md\":\"d59c96f5\",\"front-end_js_index.md\":\"8885cfa6\",\"front-end_nest_01.md\":\"30235bc7\",\"front-end_nest_index.md\":\"8c7740ac\",\"front-end_node_1-webpack5-node.md\":\"d816d35f\",\"front-end_node_index.md\":\"a86f2074\",\"front-end_react_index.md\":\"bfa6e12d\",\"front-end_react-native_01.md\":\"eb2ecf74\",\"front-end_react-native_02.md\":\"3df710b8\",\"front-end_react-native_03.md\":\"2b8d6378\",\"front-end_react-native_04.md\":\"89cecf9b\",\"front-end_react-native_05.md\":\"ee15054f\",\"front-end_react-native_index.md\":\"4a73efb9\",\"front-end_typescript_index.md\":\"4685e05d\",\"front-end_vue_index.md\":\"d7aa9103\",\"front-end_wechat_index.md\":\"d8ad5af8\",\"utils_docker_01-docker.md\":\"ba3a9982\",\"utils_docker_02-docker-compose.md\":\"dc2933df\",\"utils_docker_03-dockerfile.md\":\"d87e729a\",\"utils_docker_04-ci.md\":\"a70aad2e\",\"utils_docker_index.md\":\"0b8e066b\",\"utils_git_01.md\":\"d7107261\",\"utils_git_02.md\":\"32da9d99\",\"utils_git_03.md\":\"88a803c6\",\"utils_git_index.md\":\"e0025960\"}")</script>
    <script type="module" async src="/assets/app.3319f5d3.js"></script>
  </body>
</html>